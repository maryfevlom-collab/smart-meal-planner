<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Community Recipes</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script defer src="{{ url_for('static', filename='script.js') }}"></script>
</head>
<body>
    <header>
        <h1>👩‍🍳 Community Recipes</h1>
        <nav>
            <a href="{{ url_for('index') }}">🏠 Home</a> |
            <a href="{{ url_for('community') }}">👥 Community</a>
        </nav>
    </header>

    <main>
        <!-- ✅ Budget Filter -->
        <section>
            <h2>💰 Filter Recipes by Budget</h2>
            <form id="budgetForm">
                <input type="number" id="budget" placeholder="Enter max budget (GHS)" required>
                <button type="submit">Filter</button>
            </form>
        </section>

        <!-- ✅ Community Recipes -->
        <section>
            <h2>📖 All Shared Recipes</h2>
            <div id="communityResults">
                {% for recipe in recipes %}
                <div class="recipe-card" id="recipe-{{ recipe.id }}">
                    <h3>{{ recipe.title }}</h3>
                    <p><b>Ingredients:</b> {{ recipe.ingredients }}</p>
                    <p><b>Instructions:</b> {{ recipe.instructions }}</p>
                    <p><b>Budget:</b> GHS {{ recipe.budget }}</p>
                    <div class="actions">
                        <button class="translate-btn" data-id="{{ recipe.id }}" data-lang="ewe">🌍 Translate to Ewe</button>
                        <button class="translate-btn" data-id="{{ recipe.id }}" data-lang="twi">🌍 Translate to Twi</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- ✅ Share New Recipe -->
        <section>
            <h2>➕ Share Your Recipe</h2>
            <form action="{{ url_for('add_recipe') }}" method="POST">
                <input type="text" name="title" placeholder="Recipe title" required><br>
                <textarea name="ingredients" placeholder="Ingredients (comma separated)" required></textarea><br>
                <textarea name="instructions" placeholder="Instructions" required></textarea><br>
                <input type="number" name="budget" placeholder="Estimated budget (GHS)" required><br>
                <button type="submit">Submit Recipe</button>
            </form>
        </section>
    </main>

    <footer>
        <p>🌱 Built for SDG 1 & 2 – Ending Poverty & Hunger</p>
    </footer>
</body>
</html>